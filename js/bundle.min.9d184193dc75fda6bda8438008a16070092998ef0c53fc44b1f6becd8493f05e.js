/*!
Waypoints - 4.0.1
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/!function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var o=0,r=e.length;r>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,o.windowContext||(o.windowContext=!0,o.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward;for(var s in this.waypoints[i]){var l=this.waypoints[i][s];if(null!==l.triggerPoint){var a=n.oldScroll<l.triggerPoint,h=n.newScroll>=l.triggerPoint,p=a&&h,u=!a&&!h;(p||u)&&(l.queueTrigger(r),t[l.group.id]=l.group)}}}for(var d in t)t[d].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),n={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var l in this.waypoints[r]){var a,h,p,u,d,f=this.waypoints[r][l],c=f.options.offset,w=f.triggerPoint,y=0,g=null==w;f.element!==f.element.window&&(y=f.adapter.offset()[s.offsetProp]),"function"==typeof c?c=c.apply(f):"string"==typeof c&&(c=parseFloat(c),f.options.offset.indexOf("%")>-1&&(c=Math.ceil(s.contextDimension*c/100))),a=s.contextScroll-s.contextOffset,f.triggerPoint=Math.floor(y+a-c),h=w<s.oldScroll,p=f.triggerPoint>=s.oldScroll,u=h&&p,d=!h&&!p,!g&&u?(f.queueTrigger(s.backward),n[f.group.id]=f.group):!g&&d?(f.queueTrigger(s.forward),n[f.group.id]=f.group):g&&s.oldScroll>=f.triggerPoint&&(f.queueTrigger(s.forward),n[f.group.id]=f.group)}}return o.requestAnimationFrame(function(){for(var t in n)n[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},o.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?e:t);for(var r=0,s=n.length;s>r;r+=1){var l=n[r];(l.options.continuous||r===n.length-1)&&l.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){"use strict";function t(t){return t===t.window}function e(e){return t(e)?e:e.defaultView}function i(t){this.element=t,this.handlers={}}var n=window.Waypoint;i.prototype.innerHeight=function(){var e=t(this.element);return e?this.element.innerHeight:this.element.clientHeight},i.prototype.innerWidth=function(){var e=t(this.element);return e?this.element.innerWidth:this.element.clientWidth},i.prototype.off=function(t,e){function i(t,e,i){for(var n=0,o=e.length-1;o>n;n++){var r=e[n];i&&i!==r||t.removeEventListener(r)}}var n=t.split("."),o=n[0],r=n[1],s=this.element;if(r&&this.handlers[r]&&o)i(s,this.handlers[r][o],e),this.handlers[r][o]=[];else if(o)for(var l in this.handlers)i(s,this.handlers[l][o]||[],e),this.handlers[l][o]=[];else if(r&&this.handlers[r]){for(var a in this.handlers[r])i(s,this.handlers[r][a],e);this.handlers[r]={}}},i.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,i=e(this.element.ownerDocument),n={top:0,left:0};return this.element.getBoundingClientRect&&(n=this.element.getBoundingClientRect()),{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}},i.prototype.on=function(t,e){var i=t.split("."),n=i[0],o=i[1]||"__default",r=this.handlers[o]=this.handlers[o]||{},s=r[n]=r[n]||[];s.push(e),this.element.addEventListener(n,e)},i.prototype.outerHeight=function(e){var i,n=this.innerHeight();return e&&!t(this.element)&&(i=window.getComputedStyle(this.element),n+=parseInt(i.marginTop,10),n+=parseInt(i.marginBottom,10)),n},i.prototype.outerWidth=function(e){var i,n=this.innerWidth();return e&&!t(this.element)&&(i=window.getComputedStyle(this.element),n+=parseInt(i.marginLeft,10),n+=parseInt(i.marginRight,10)),n},i.prototype.scrollLeft=function(){var t=e(this.element);return t?t.pageXOffset:this.element.scrollLeft},i.prototype.scrollTop=function(){var t=e(this.element);return t?t.pageYOffset:this.element.scrollTop},i.extend=function(){function t(t,e){if("object"==typeof t&&"object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}for(var e=Array.prototype.slice.call(arguments),i=1,n=e.length;n>i;i++)t(e[0],e[i]);return e[0]},i.inArray=function(t,e,i){return null==e?-1:e.indexOf(t,i)},i.isEmptyObject=function(t){for(var e in t)return!1;return!0},n.adapters.push({name:"noframework",Adapter:i}),n.Adapter=i}();;!function(a,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):a.CountUp=n()}(this,function(a,n,t){var e=function(a,n,t,e,i,r){function o(a){var n,t,e,i,r,o,s=a<0;if(a=Math.abs(a).toFixed(l.decimals),a+="",n=a.split("."),t=n[0],e=n.length>1?l.options.decimal+n[1]:"",l.options.useGrouping){for(i="",r=0,o=t.length;r<o;++r)0!==r&&r%3===0&&(i=l.options.separator+i),i=t[o-r-1]+i;t=i}return l.options.numerals.length&&(t=t.replace(/[0-9]/g,function(a){return l.options.numerals[+a]}),e=e.replace(/[0-9]/g,function(a){return l.options.numerals[+a]})),(s?"-":"")+l.options.prefix+t+e+l.options.suffix}function s(a,n,t,e){return t*(-Math.pow(2,-10*a/e)+1)*1024/1023+n}function u(a){return"number"==typeof a&&!isNaN(a)}var l=this;if(l.version=function(){return"1.9.3"},l.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:s,formattingFn:o,prefix:"",suffix:"",numerals:[]},r&&"object"==typeof r)for(var m in l.options)r.hasOwnProperty(m)&&null!==r[m]&&(l.options[m]=r[m]);""===l.options.separator?l.options.useGrouping=!1:l.options.separator=""+l.options.separator;for(var d=0,c=["webkit","moz","ms","o"],f=0;f<c.length&&!window.requestAnimationFrame;++f)window.requestAnimationFrame=window[c[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[f]+"CancelAnimationFrame"]||window[c[f]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,n){var t=(new Date).getTime(),e=Math.max(0,16-(t-d)),i=window.setTimeout(function(){a(t+e)},e);return d=t+e,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),l.initialize=function(){return!!l.initialized||(l.error="",l.d="string"==typeof a?document.getElementById(a):a,l.d?(l.startVal=Number(n),l.endVal=Number(t),u(l.startVal)&&u(l.endVal)?(l.decimals=Math.max(0,e||0),l.dec=Math.pow(10,l.decimals),l.duration=1e3*Number(i)||2e3,l.countDown=l.startVal>l.endVal,l.frameVal=l.startVal,l.initialized=!0,!0):(l.error="[CountUp] startVal ("+n+") or endVal ("+t+") is not a number",!1)):(l.error="[CountUp] target is null or undefined",!1))},l.printValue=function(a){var n=l.options.formattingFn(a);"INPUT"===l.d.tagName?this.d.value=n:"text"===l.d.tagName||"tspan"===l.d.tagName?this.d.textContent=n:this.d.innerHTML=n},l.count=function(a){l.startTime||(l.startTime=a),l.timestamp=a;var n=a-l.startTime;l.remaining=l.duration-n,l.options.useEasing?l.countDown?l.frameVal=l.startVal-l.options.easingFn(n,0,l.startVal-l.endVal,l.duration):l.frameVal=l.options.easingFn(n,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.frameVal=l.startVal-(l.startVal-l.endVal)*(n/l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(n/l.duration),l.countDown?l.frameVal=l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal=l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),n<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},l.start=function(a){l.initialize()&&(l.callback=a,l.rAF=requestAnimationFrame(l.count))},l.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},l.reset=function(){l.paused=!1,delete l.startTime,l.initialized=!1,l.initialize()&&(cancelAnimationFrame(l.rAF),l.printValue(l.startVal))},l.update=function(a){if(l.initialize()){if(a=Number(a),!u(a))return void(l.error="[CountUp] update() - new endVal is not a number: "+a);l.error="",a!==l.frameVal&&(cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=a,l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count))}},l.initialize()&&l.printValue(l.startVal)};return e});;document.addEventListener('DOMContentLoaded',()=>{handleMenuClick();handleSubMenuHover();handleResize();handleHomepageCounter();handleTableUpdate();prepareEventGrids();processAllSvg();if(document.getElementById("step-by-step")){let stepByEl=document.querySelector("#stepby .svg-obj");stepByEl.addEventListener('load',function(){setHeightForStepByStep();});stepByEl.data=stepByEl.data;updateStepByStepPositions();}});function handleHomepageCounter(){if(document.getElementById("cert-count")){fetch("https://ct.cloudflare.com/data/total",{cache:"no-store"}).then((response)=>response.text()).then((data)=>{console.log(data);const newNum=parseInt(data);const el=document.getElementById("cert-count");let oldNum=parseInt(el.innerText.replace(/\,/g,""));if(oldNum==newNum){oldNum=newNum-(Math.floor(Math.random()*1000));}
const counter=new CountUp(el,oldNum,newNum);if(!counter.error){const waypoint=new Waypoint({element:el,offset:800,handler:function(){counter.start();}})}else{console.error(counter.error);}});}}
function handleTableUpdate(){if(document.getElementById("logs-table")){const googLogsURL="https://www.gstatic.com/ct/log_list/v2/all_logs_list.json";const appleLogsURL="https://valid.apple.com/ct/log_list/current_log_list.json";const uptimesURL="https://www.gstatic.com/ct/compliance/uptime.csv";try{Promise.all([googLogsURL,appleLogsURL,uptimesURL].map(url=>fetch(url).then(r=>r.text()))).then(([googLogsData,appleLogsData,uptimesData])=>{const googLogs=JSON.parse(googLogsData);const appleLogs=JSON.parse(appleLogsData);let rawUptimes=uptimesData.split("\n");rawUptimes.shift();uptimes={};rawUptimes.forEach(u=>{const keyValue=u.split(",")
const uptime={};uptimes[keyValue[0]]=keyValue[1];});const mergedLogs=deepMerge(googLogs,appleLogs);let allLogs=[];let retiredIds=[];let pendingIds=[]
mergedLogs.operators.forEach(operator=>{operator.logs.forEach(log=>{log.operator=operator.name;allLogs.push(log);})});allLogs=allLogs.filter((log)=>{if(!log.state){return false;}
const stateName=Object.keys(log.state)[0];if(['retired','rejected','readonly'].includes(stateName)){retiredIds.push(log.log_id)
return false;}
if(['pending'].includes(stateName)){pendingIds.push(log.log_id)
return false;}
return true;});allLogs=allLogs.filter((log)=>{return!retiredIds.includes(log.log_id);});allLogs=allLogs.filter((obj,pos,arr)=>{return arr.map(mapObj=>mapObj["log_id"]).indexOf(obj["log_id"])===pos;});allLogs.sort((a,b)=>a.description.localeCompare(b.description));allLogs.sort((a,b)=>a.operator.localeCompare(b.operator));allLogs.forEach((log)=>{if(Object.keys(uptimes).includes(log.url)){log.uptime=uptimes[log.url];}});let prevOperator="";const logRows=allLogs.map(log=>{const operator=(log.operator==prevOperator)?"":log.operator;prevOperator=log.operator;const markup=`
          <tr data-log-url="${log.url}">
            <td>
              ${operator}
            </td>
            <td>${log.description}</td>
            <td>
              ${log.temporal_interval?log.temporal_interval.start_inclusive.split("T")[0]:""}
            </td>
            <td>
              ${log.temporal_interval?log.temporal_interval.end_exclusive.split("T")[0]:""}
            </td>
            <td class='uptime'>${log.uptime}</td>
          </tr>
          `;return markup;});document.querySelector("#logs-table tbody").innerHTML=logRows.join("");})}
catch(err){console.log(err);};}}
function handleMenuClick(){document.querySelector('#mobilemenu-controls .hide-menu').addEventListener('click',(event)=>{closeMenu();event.preventDefault();return false;});document.querySelector('#nav-shield').addEventListener('click',(event)=>{closeMenu();event.preventDefault();return false;});document.querySelector('#mobilemenu-controls .show-menu').addEventListener('click',(event)=>{openMenu();event.preventDefault();return false;});}
function handleSubMenuHover(){}
function handleResize(){window.addEventListener('resize',(event)=>{updateStepByStepPositions();if(window.innerWidth>736){closeMenu();}
setHeightForStepByStep();});}
function openMenu(){document.querySelector('#top ul.menu').classList.add("visible");document.querySelector('#top ul.elsewhere').classList.add("visible");document.querySelector('#mobilemenu-controls').classList.add("menu-visible");document.querySelector('#nav-shield').classList.add("menu-visible");}
function closeMenu(){document.querySelector('#top ul.menu').classList.remove("visible");document.querySelector('#top ul.elsewhere').classList.remove("visible");document.querySelector('#mobilemenu-controls').classList.remove("menu-visible");document.querySelector('#nav-shield').classList.remove("menu-visible");}
function animateSvg(svgEl){let svgDoc=svgEl.contentDocument;let classToAnimate=svgEl.dataset.animateSvgSelector;let lines=svgDoc.querySelectorAll(classToAnimate);lines.forEach((line)=>{line.style.strokeDasharray='6 3';line.style.animation='dash 80s linear infinite';line.style.stroke="black";if(svgEl.dataset.animatedStrokeWidth){line.style.strokeWidth=svgEl.dataset.animatedStrokeWidth;}else{line.style.strokeWidth="2px";}
line.style.fill='none important';});let styleEl=svgDoc.createElementNS("http://www.w3.org/2000/svg","style");styleEl.type="text/css";svgDoc.firstChild.prepend(styleEl);svgDoc.styleSheets[0].insertRule('\
    @keyframes dash {\
      to   { stroke-dashOffset: 1000; }\
    }');svgDoc.styleSheets[0].insertRule('\
    .rev {\
      animation-direction: reverse!important;\
    }');svgDoc.styleSheets[0].insertRule('\
    @-webkit-keyframes dash {\
      to   { stroke-dashOffset: 1000; }\
    }');}
function fixStrokes(svgEl){let svgDoc=svgEl.contentDocument;let styleEl=svgDoc.createElementNS("http://www.w3.org/2000/svg","style");styleEl.type="text/css";svgDoc.firstChild.prepend(styleEl);svgDoc.styleSheets[0].insertRule('\
    line,path,rect,ellipse,circle,path,polyline,polygon {\
      vector-effect: non-scaling-stroke;\
      shape-rendering: geometricPrecision;\
    }');}
function processAllSvg(){let svgElements=document.querySelectorAll("object.svg-obj");svgElements.forEach((svgEl)=>{svgEl.addEventListener('load',()=>{if(svgEl.dataset.animateSvgSelector){animateSvg(svgEl)}
fixStrokes(svgEl);});svgEl.data=svgEl.data;})}
function setHeightForStepByStep(){if(document.getElementById("illustration-and-steps")){let illustrationHeight=document.getElementById("step-by-svg").scrollHeight;let stepsHeight=document.querySelector("#step-by-step ol").scrollHeight;if(stepsHeight>illustrationHeight){document.getElementById("illustration-and-steps").style.height=(stepsHeight+"px");}else{document.getElementById("illustration-and-steps").style.height=(illustrationHeight+"px");}}}
function updateStepByStepPositions(){document.querySelectorAll("#step-by-step ol > li").forEach((el,i)=>{if(window.innerWidth>1068){el.style.marginTop=`${el.dataset.marginTopLg}px`;}else if(window.innerWidth>736){el.style.marginTop=`${el.dataset.marginTopMd}px`;}else{el.style.marginTop="";}})
document.querySelectorAll("#step-by-step ol > li .description").forEach((el,i)=>{console.log(el);if(window.innerWidth>1068){el.style.maxHeight="";}else if(window.innerWidth>736&&el.dataset.overflowAt){el.style.maxHeight=`${el.dataset.overflowAt}px`;}else{el.style.maxHeight="";}})}
function prepareEventGrids(){document.querySelectorAll(".toggle-all-events a").forEach(el=>{el.addEventListener("click",(e)=>{const gridToToggle=el.dataset.grid;const grid=document.getElementById(`${gridToToggle}-grid`);grid.classList.toggle('show-all');if(el.innerText=="see all +"){el.innerText="see headlines -"}else{el.innerText="see all +"}});});}
function deepMerge(...objects){const isObject=obj=>obj&&typeof obj==='object';return objects.reduce((prev,obj)=>{Object.keys(obj).forEach(key=>{const pVal=prev[key];const oVal=obj[key];if(Array.isArray(pVal)&&Array.isArray(oVal)){prev[key]=pVal.concat(...oVal);}
else if(isObject(pVal)&&isObject(oVal)){prev[key]=deepMerge(pVal,oVal);}
else{prev[key]=oVal;}});return prev;},{});}