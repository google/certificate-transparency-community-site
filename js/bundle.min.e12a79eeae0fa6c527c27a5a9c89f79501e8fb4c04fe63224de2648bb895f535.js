/*!
Waypoints - 4.0.1
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/!function(){"use strict";function a(d){if(!d)throw new Error("No options passed to Waypoint constructor");if(!d.element)throw new Error("No element option passed to Waypoint constructor");if(!d.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+c,this.options=a.Adapter.extend({},a.defaults,d),this.element=this.options.element,this.adapter=new a.Adapter(this.element),this.callback=d.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=a.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=a.Context.findOrCreateByElement(this.options.context),a.offsetAliases[this.options.offset]&&(this.options.offset=a.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),b[this.key]=this,c+=1}var c=0,b={};a.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)},a.prototype.trigger=function(a){this.enabled&&this.callback&&this.callback.apply(this,a)},a.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete b[this.key]},a.prototype.disable=function(){return this.enabled=!1,this},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},a.prototype.next=function(){return this.group.next(this)},a.prototype.previous=function(){return this.group.previous(this)},a.invokeAll=function(d){var a=[],e,c,f;for(e in b)a.push(b[e]);for(c=0,f=a.length;f>c;c++)a[c][d]()},a.destroyAll=function(){a.invokeAll("destroy")},a.disableAll=function(){a.invokeAll("disable")},a.enableAll=function(){a.Context.refreshAll();for(var c in b)b[c].enabled=!0;return this},a.refreshAll=function(){a.Context.refreshAll()},a.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},a.viewportWidth=function(){return document.documentElement.clientWidth},a.adapters=[],a.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},a.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=a}(),function(){"use strict";function f(a){window.setTimeout(a,1e3/60)}function a(e){this.element=e,this.Adapter=b.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+d,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,c[e.waypointContextKey]=this,d+=1,b.windowContext||(b.windowContext=!0,b.windowContext=new a(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var d=0,c={},b=window.Waypoint,e=window.onload;a.prototype.add=function(a){var b=a.options.horizontal?"horizontal":"vertical";this.waypoints[b][a.key]=a,this.refresh()},a.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),b=this.Adapter.isEmptyObject(this.waypoints.vertical),d=this.element==this.element.window;a&&b&&!d&&(this.adapter.off(".waypoints"),delete c[this.key])},a.prototype.createThrottledResizeHandler=function(){function c(){a.handleResize(),a.didResize=!1}var a=this;this.adapter.on("resize.waypoints",function(){a.didResize||(a.didResize=!0,b.requestAnimationFrame(c))})},a.prototype.createThrottledScrollHandler=function(){function c(){a.handleScroll(),a.didScroll=!1}var a=this;this.adapter.on("scroll.waypoints",function(){(!a.didScroll||b.isTouch)&&(a.didScroll=!0,b.requestAnimationFrame(c))})},a.prototype.handleResize=function(){b.Context.refreshAll()},a.prototype.handleScroll=function(){var e={},c={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},d,b,j,i,h,a,g,f,k,l,m;for(d in c){b=c[d],j=b.newScroll>b.oldScroll,i=j?b.forward:b.backward;for(h in this.waypoints[d])a=this.waypoints[d][h],null!==a.triggerPoint&&(g=b.oldScroll<a.triggerPoint,f=b.newScroll>=a.triggerPoint,k=g&&f,l=!g&&!f,(k||l)&&(a.queueTrigger(i),e[a.group.id]=a.group))}for(m in e)e[m].flushTriggers();this.oldScroll={x:c.horizontal.newScroll,y:c.vertical.newScroll}},a.prototype.innerHeight=function(){return this.element==this.element.window?b.viewportHeight():this.adapter.innerHeight()},a.prototype.remove=function(a){delete this.waypoints[a.axis][a.key],this.checkEmpty()},a.prototype.innerWidth=function(){return this.element==this.element.window?b.viewportWidth():this.adapter.innerWidth()},a.prototype.destroy=function(){var a=[],c,d,b,e;for(c in this.waypoints)for(d in this.waypoints[c])a.push(this.waypoints[c][d]);for(b=0,e=a.length;e>b;b++)a[b].destroy()},a.prototype.refresh=function(){var j,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),f={},g,c,r,l,h,i,q,m,a,d,o,p,k;this.handleScroll(),j={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(g in j){c=j[g];for(r in this.waypoints[g])a=this.waypoints[g][r],d=a.options.offset,o=a.triggerPoint,p=0,k=null==o,a.element!==a.element.window&&(p=a.adapter.offset()[c.offsetProp]),"function"==typeof d?d=d.apply(a):"string"==typeof d&&(d=parseFloat(d),a.options.offset.indexOf("%")>-1&&(d=Math.ceil(c.contextDimension*d/100))),l=c.contextScroll-c.contextOffset,a.triggerPoint=Math.floor(p+l-d),h=o<c.oldScroll,i=a.triggerPoint>=c.oldScroll,q=h&&i,m=!h&&!i,!k&&q?(a.queueTrigger(c.backward),f[a.group.id]=a.group):!k&&m?(a.queueTrigger(c.forward),f[a.group.id]=a.group):k&&c.oldScroll>=a.triggerPoint&&(a.queueTrigger(c.forward),f[a.group.id]=a.group)}return b.requestAnimationFrame(function(){for(var a in f)f[a].flushTriggers()}),this},a.findOrCreateByElement=function(b){return a.findByElement(b)||new a(b)},a.refreshAll=function(){for(var a in c)c[a].refresh()},a.findByElement=function(a){return c[a.waypointContextKey]},window.onload=function(){e&&e(),a.refreshAll()},b.requestAnimationFrame=function(a){var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||f;b.call(window,a)},b.Context=a}(),function(){"use strict";function c(a,b){return a.triggerPoint-b.triggerPoint}function e(a,b){return b.triggerPoint-a.triggerPoint}function a(a){this.name=a.name,this.axis=a.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),d[this.axis][this.name]=this}var d={vertical:{},horizontal:{}},b=window.Waypoint;a.prototype.add=function(a){this.waypoints.push(a)},a.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},a.prototype.flushTriggers=function(){var a,b,g,d,h,f;for(a in this.triggerQueues){b=this.triggerQueues[a],g="up"===a||"left"===a,b.sort(g?e:c);for(d=0,h=b.length;h>d;d+=1)f=b[d],(f.options.continuous||d===b.length-1)&&f.trigger([a])}this.clearTriggerQueues()},a.prototype.next=function(d){this.waypoints.sort(c);var a=b.Adapter.inArray(d,this.waypoints),e=a===this.waypoints.length-1;return e?null:this.waypoints[a+1]},a.prototype.previous=function(d){this.waypoints.sort(c);var a=b.Adapter.inArray(d,this.waypoints);return a?this.waypoints[a-1]:null},a.prototype.queueTrigger=function(a,b){this.triggerQueues[b].push(a)},a.prototype.remove=function(c){var a=b.Adapter.inArray(c,this.waypoints);a>-1&&this.waypoints.splice(a,1)},a.prototype.first=function(){return this.waypoints[0]},a.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},a.findOrCreate=function(b){return d[b.axis][b.name]||new a(b)},b.Group=a}(),function(){"use strict";function b(a){return a===a.window}function c(a){return b(a)?a:a.defaultView}function a(a){this.element=a,this.handlers={}}var d=window.Waypoint;a.prototype.innerHeight=function(){var a=b(this.element);return a?this.element.innerHeight:this.element.clientHeight},a.prototype.innerWidth=function(){var a=b(this.element);return a?this.element.innerWidth:this.element.clientWidth},a.prototype.off=function(i,d){var f,b,a,c,g,h;function e(e,b,c){for(var a=0,f=b.length-1,d;f>a;a++)d=b[a],c&&c!==d||e.removeEventListener(d)}if(f=i.split("."),b=f[0],a=f[1],c=this.element,a&&this.handlers[a]&&b)e(c,this.handlers[a][b],d),this.handlers[a][b]=[];else if(b)for(g in this.handlers)e(c,this.handlers[g][b]||[],d),this.handlers[g][b]=[];else if(a&&this.handlers[a]){for(h in this.handlers[a])e(c,this.handlers[a][h],d);this.handlers[a]={}}},a.prototype.offset=function(){if(!this.element.ownerDocument)return null;var b=this.element.ownerDocument.documentElement,d=c(this.element.ownerDocument),a={top:0,left:0};return this.element.getBoundingClientRect&&(a=this.element.getBoundingClientRect()),{top:a.top+d.pageYOffset-b.clientTop,left:a.left+d.pageXOffset-b.clientLeft}},a.prototype.on=function(f,b){var c=f.split("."),a=c[0],d=c[1]||"__default",e=this.handlers[d]=this.handlers[d]||{},g=e[a]=e[a]||[];g.push(b),this.element.addEventListener(a,b)},a.prototype.outerHeight=function(d){var a,c=this.innerHeight();return d&&!b(this.element)&&(a=window.getComputedStyle(this.element),c+=parseInt(a.marginTop,10),c+=parseInt(a.marginBottom,10)),c},a.prototype.outerWidth=function(d){var a,c=this.innerWidth();return d&&!b(this.element)&&(a=window.getComputedStyle(this.element),c+=parseInt(a.marginLeft,10),c+=parseInt(a.marginRight,10)),c},a.prototype.scrollLeft=function(){var a=c(this.element);return a?a.pageXOffset:this.element.scrollLeft},a.prototype.scrollTop=function(){var a=c(this.element);return a?a.pageYOffset:this.element.scrollTop},a.extend=function(){function c(b,a){if("object"==typeof b&&"object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}for(var a=Array.prototype.slice.call(arguments),b=1,d=a.length;d>b;b++)c(a[0],a[b]);return a[0]},a.inArray=function(b,a,c){return null==a?-1:a.indexOf(b,c)},a.isEmptyObject=function(a){for(var b in a)return!1;return!0},d.adapters.push({name:"noframework",Adapter:a}),d.Adapter=a}(),!function(b,a){"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a(require,exports,module):b.CountUp=a()}(this,function(b,c,d){var a=function(h,j,i,m,l,e){var a,d,f,c,b;function k(e){var f,b,g,c,d,h,i=e<0;if(e=Math.abs(e).toFixed(a.decimals),e+="",f=e.split("."),b=f[0],g=f.length>1?a.options.decimal+f[1]:"",a.options.useGrouping){for(c="",d=0,h=b.length;d<h;++d)0!==d&&d%3===0&&(c=a.options.separator+c),c=b[h-d-1]+c;b=c}return a.options.numerals.length&&(b=b.replace(/[0-9]/g,function(b){return a.options.numerals[+b]}),g=g.replace(/[0-9]/g,function(b){return a.options.numerals[+b]})),(i?"-":"")+a.options.prefix+b+g+a.options.suffix}function n(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)*1024/1023+b}function g(a){return"number"==typeof a&&!isNaN(a)}if(a=this,a.version=function(){return"1.9.3"},a.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:n,formattingFn:k,prefix:"",suffix:"",numerals:[]},e&&"object"==typeof e)for(d in a.options)e.hasOwnProperty(d)&&null!==e[d]&&(a.options[d]=e[d]);""===a.options.separator?a.options.useGrouping=!1:a.options.separator=""+a.options.separator;for(f=0,c=["webkit","moz","ms","o"],b=0;b<c.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[c[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[b]+"CancelAnimationFrame"]||window[c[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(c,e){var a=(new Date).getTime(),b=Math.max(0,16-(a-f)),d=window.setTimeout(function(){c(a+b)},b);return f=a+b,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),a.initialize=function(){return!!a.initialized||(a.error="",a.d="string"==typeof h?document.getElementById(h):h,a.d?(a.startVal=Number(j),a.endVal=Number(i),g(a.startVal)&&g(a.endVal)?(a.decimals=Math.max(0,m||0),a.dec=Math.pow(10,a.decimals),a.duration=1e3*Number(l)||2e3,a.countDown=a.startVal>a.endVal,a.frameVal=a.startVal,a.initialized=!0,!0):(a.error="[CountUp] startVal ("+j+") or endVal ("+i+") is not a number",!1)):(a.error="[CountUp] target is null or undefined",!1))},a.printValue=function(c){var b=a.options.formattingFn(c);"INPUT"===a.d.tagName?this.d.value=b:"text"===a.d.tagName||"tspan"===a.d.tagName?this.d.textContent=b:this.d.innerHTML=b},a.count=function(c){a.startTime||(a.startTime=c),a.timestamp=c;var b=c-a.startTime;a.remaining=a.duration-b,a.options.useEasing?a.countDown?a.frameVal=a.startVal-a.options.easingFn(b,0,a.startVal-a.endVal,a.duration):a.frameVal=a.options.easingFn(b,a.startVal,a.endVal-a.startVal,a.duration):a.countDown?a.frameVal=a.startVal-(a.startVal-a.endVal)*(b/a.duration):a.frameVal=a.startVal+(a.endVal-a.startVal)*(b/a.duration),a.countDown?a.frameVal=a.frameVal<a.endVal?a.endVal:a.frameVal:a.frameVal=a.frameVal>a.endVal?a.endVal:a.frameVal,a.frameVal=Math.round(a.frameVal*a.dec)/a.dec,a.printValue(a.frameVal),b<a.duration?a.rAF=requestAnimationFrame(a.count):a.callback&&a.callback()},a.start=function(b){a.initialize()&&(a.callback=b,a.rAF=requestAnimationFrame(a.count))},a.pauseResume=function(){a.paused?(a.paused=!1,delete a.startTime,a.duration=a.remaining,a.startVal=a.frameVal,requestAnimationFrame(a.count)):(a.paused=!0,cancelAnimationFrame(a.rAF))},a.reset=function(){a.paused=!1,delete a.startTime,a.initialized=!1,a.initialize()&&(cancelAnimationFrame(a.rAF),a.printValue(a.startVal))},a.update=function(b){if(a.initialize()){if(b=Number(b),!g(b))return void(a.error="[CountUp] update() - new endVal is not a number: "+b);a.error="",b!==a.frameVal&&(cancelAnimationFrame(a.rAF),a.paused=!1,delete a.startTime,a.startVal=a.frameVal,a.endVal=b,a.countDown=a.startVal>a.endVal,a.rAF=requestAnimationFrame(a.count))}},a.initialize()&&a.printValue(a.startVal)};return a}),document.addEventListener('DOMContentLoaded',()=>{if(handleMenuClick(),handleSubMenuHover(),handleResize(),handleHomepageCounter(),handleTableUpdate(),prepareEventGrids(),processAllSvg(),document.getElementById("step-by-step")){let a=document.querySelector("#stepby .svg-obj");a.addEventListener('load',function(){setHeightForStepByStep()}),a.data=a.data,updateStepByStepPositions()}});function handleHomepageCounter(){document.getElementById("cert-count")&&fetch("https://ct.cloudflare.com/data/total",{cache:"no-store"}).then(a=>a.text()).then(e=>{console.log(e);const a=parseInt(e),b=document.getElementById("cert-count");let c=parseInt(b.innerText.replace(/\,/g,""));c==a&&(c=a-Math.floor(Math.random()*1e3));const d=new CountUp(b,c,a);if(d.error)console.error(d.error);else{const a=new Waypoint({element:b,offset:800,handler:function(){d.start()}})}})}function handleTableUpdate(){if(document.getElementById("logs-table")){const a="https://www.gstatic.com/ct/log_list/v3/all_logs_list.json",b="https://valid.apple.com/ct/log_list/current_log_list.json",c="https://www.gstatic.com/ct/compliance/uptime.csv";try{Promise.all([a,b,c].map(a=>fetch(a).then(a=>a.text()))).then(([e,h,i])=>{const f=JSON.parse(e),k=JSON.parse(h);let d=i.split("\n");d.shift(),uptimes={},d.forEach(b=>{const a=b.split(","),c={};uptimes[a[0]]=a[1]});const g=deepMerge(f,k);let a=[],b=[],j=[];g.operators.forEach(b=>{b.logs.forEach(c=>{c.operator=b.name,a.push(c)})}),a=a.filter(a=>{if(!a.state)return!1;const c=Object.keys(a.state)[0];return['retired','rejected','readonly'].includes(c)?(b.push(a.log_id),!1):!['pending'].includes(c)||(j.push(a.log_id),!1)}),a=a.filter(a=>!b.includes(a.log_id)),a=a.filter((a,b,c)=>c.map(a=>a.log_id).indexOf(a.log_id)===b),a.sort((a,b)=>a.description.localeCompare(b.description)),a.sort((a,b)=>a.operator.localeCompare(b.operator)),a.forEach(a=>{Object.keys(uptimes).includes(a.url)&&(a.uptime=uptimes[a.url])});let c="";const l=a.map(a=>{const b=a.operator==c?"":a.operator;c=a.operator;const d=`
          <tr data-log-url="${a.url}">
            <td>
              ${b}
            </td>
            <td>${a.description}</td>
            <td>
              ${a.temporal_interval?a.temporal_interval.start_inclusive.split("T")[0]:""}
            </td>
            <td>
              ${a.temporal_interval?a.temporal_interval.end_exclusive.split("T")[0]:""}
            </td>
            <td class='uptime'>${a.uptime}</td>
          </tr>
          `;return d});document.querySelector("#logs-table tbody").innerHTML=l.join("")})}catch(a){console.log(a)}}}function handleMenuClick(){document.querySelector('#mobilemenu-controls .hide-menu').addEventListener('click',a=>(closeMenu(),a.preventDefault(),!1)),document.querySelector('#nav-shield').addEventListener('click',a=>(closeMenu(),a.preventDefault(),!1)),document.querySelector('#mobilemenu-controls .show-menu').addEventListener('click',a=>(openMenu(),a.preventDefault(),!1))}function handleSubMenuHover(){}function handleResize(){window.addEventListener('resize',a=>{updateStepByStepPositions(),window.innerWidth>736&&closeMenu(),setHeightForStepByStep()})}function openMenu(){document.querySelector('#top ul.menu').classList.add("visible"),document.querySelector('#top ul.elsewhere').classList.add("visible"),document.querySelector('#mobilemenu-controls').classList.add("menu-visible"),document.querySelector('#nav-shield').classList.add("menu-visible")}function closeMenu(){document.querySelector('#top ul.menu').classList.remove("visible"),document.querySelector('#top ul.elsewhere').classList.remove("visible"),document.querySelector('#mobilemenu-controls').classList.remove("menu-visible"),document.querySelector('#nav-shield').classList.remove("menu-visible")}function animateSvg(b){let a=b.contentDocument,d=b.dataset.animateSvgSelector,e=a.querySelectorAll(d);e.forEach(a=>{a.style.strokeDasharray='6 3',a.style.animation='dash 80s linear infinite',a.style.stroke="black",b.dataset.animatedStrokeWidth?a.style.strokeWidth=b.dataset.animatedStrokeWidth:a.style.strokeWidth="2px",a.style.fill='none important'});let c=a.createElementNS("http://www.w3.org/2000/svg","style");c.type="text/css",a.firstChild.prepend(c),a.styleSheets[0].insertRule('    @keyframes dash {      to   { stroke-dashOffset: 1000; }    }'),a.styleSheets[0].insertRule('    .rev {      animation-direction: reverse!important;    }'),a.styleSheets[0].insertRule('    @-webkit-keyframes dash {      to   { stroke-dashOffset: 1000; }    }')}function fixStrokes(c){let a=c.contentDocument,b=a.createElementNS("http://www.w3.org/2000/svg","style");b.type="text/css",a.firstChild.prepend(b),a.styleSheets[0].insertRule('    line,path,rect,ellipse,circle,path,polyline,polygon {      vector-effect: non-scaling-stroke;      shape-rendering: geometricPrecision;    }')}function processAllSvg(){let a=document.querySelectorAll("object.svg-obj");a.forEach(a=>{a.addEventListener('load',()=>{a.dataset.animateSvgSelector&&animateSvg(a),fixStrokes(a)}),a.data=a.data})}function setHeightForStepByStep(){if(document.getElementById("illustration-and-steps")){let a=document.getElementById("step-by-svg").scrollHeight,b=document.querySelector("#step-by-step ol").scrollHeight;b>a?document.getElementById("illustration-and-steps").style.height=b+"px":document.getElementById("illustration-and-steps").style.height=a+"px"}}function updateStepByStepPositions(){document.querySelectorAll("#step-by-step ol > li").forEach((a,b)=>{window.innerWidth>1068?a.style.marginTop=`${a.dataset.marginTopLg}px`:window.innerWidth>736?a.style.marginTop=`${a.dataset.marginTopMd}px`:a.style.marginTop=""}),document.querySelectorAll("#step-by-step ol > li .description").forEach((a,b)=>{console.log(a),window.innerWidth>1068?a.style.maxHeight="":window.innerWidth>736&&a.dataset.overflowAt?a.style.maxHeight=`${a.dataset.overflowAt}px`:a.style.maxHeight=""})}function prepareEventGrids(){document.querySelectorAll(".toggle-all-events a").forEach(a=>{a.addEventListener("click",d=>{const b=a.dataset.grid,c=document.getElementById(`${b}-grid`);c.classList.toggle('show-all'),a.innerText=="see all +"?a.innerText="see headlines -":a.innerText="see all +"})})}function deepMerge(...b){const a=a=>a&&typeof a=='object';return b.reduce((b,c)=>(Object.keys(c).forEach(d=>{const f=b[d],e=c[d];Array.isArray(f)&&Array.isArray(e)?b[d]=f.concat(...e):a(f)&&a(e)?b[d]=deepMerge(f,e):b[d]=e}),b),{})}